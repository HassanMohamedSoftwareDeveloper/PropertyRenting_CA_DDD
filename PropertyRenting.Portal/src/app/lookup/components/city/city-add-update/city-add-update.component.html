<app-page-header PageHeader="{{'City.PageTitle'|translate}}"></app-page-header>
<app-error></app-error>
<form [formGroup]="form" class="qb-form" (ngSubmit)='onSubmit()' *ngIf="showForm">
  <app-form-header FormTitle="{{'City.DetailsFormTitle'|translate}}"></app-form-header>
  <div class="row">
    <div class="form-group col-md-12">
      <mat-form-field appearance="fill">
        <mat-label>{{'City.CityName'|translate}}</mat-label>
        <input matInput formControlName="CityName" [(ngModel)]="city.name">
        <mat-error *ngIf="CityName.hasError('required')">
          {{'City.CityName'|translate}} <strong>{{'Common.Required'|translate}}</strong>
        </mat-error>
      </mat-form-field>
    </div>
    <div class="form-group col-md-12">
      <ng-select formControlName="CountryId" [(ngModel)]="city.countryId"
                 notFoundText="{{'Common.NotFound'|translate}}" placeholder="{{'City.Country'|translate}}" [readonly]="!isNew">
        <ng-option *ngFor="let record of countries" [value]="record.value">{{record.description}}</ng-option>
      </ng-select>
      <mat-error class="qb-error" *ngIf="CountryId.hasError('required') && CountryId.touched">
        {{'City.Country'|translate}} <strong>{{'Common.Required'|translate}}</strong>
      </mat-error>
    </div>
    <mat-divider></mat-divider>
    <div class="form-group col-md-12 qb-form-footer-actions">
      <button type="submit" mat-button class="qb-btn m-1" [disabled]="form.invalid">{{'Common.Save'|translate}}</button>
      <button type="button" mat-button class="qb-btn m-1" (click)="Reset()"> {{'Common.Reset'|translate}}</button>
      <button type="button" mat-raised-button class="qb-btn m-1" routerLink="/cities"> {{'Common.BackToList'|translate}}</button>
    </div>
  </div>
</form>
